(this.webpackJsonpchat_app=this.webpackJsonpchat_app||[]).push([[0],{229:function(e,t,n){e.exports=n(438)},234:function(e,t,n){},236:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t){e.exports="data:image/png;base64,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"},399:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},438:function(e,t,n){"use strict";n.r(t);var a=n(20),r=n(0),l=n.n(r),c=n(19),i=n.n(c),s=(n(234),n(10)),o=n(31),u=(n(235),n(25)),m=(n(236),n(8)),d=n(17),f=n(30),h=Object(d.d)(Object(m.b)((function(e){return{users:e.firestore.ordered.users,profile:e.firebase.profile}}),(function(e){return{signInAnonymously:function(t){return e(function(e){return console.log("us",e),function(t,n,a){var r=a.getFirebase,l=a.getFirestore,c=r(),i=l();c.auth().signInAnonymously().then((function(t){return i.collection("users").doc(t.user.uid).set({uid:t.user.uid,userName:e,userType:"anonyMous",starredRooms:[],joinedRooms:[]})})).then((function(){t({type:"LOGIN_SUCCESS"})}))}}(t))}}})),Object(f.firestoreConnect)((function(e){return[{collection:"users"}]})))((function(e){var t,n=e.users,c=n&&n.map((function(e){return e.userName})),i=Object(r.useState)(""),m=Object(u.a)(i,2),d=m[0],f=m[1],h=Object(r.useState)(""),p=Object(u.a)(h,2),b=p[0],E=p[1],g=function(t){return t.preventDefault(),c.includes(d)?E("This username is used please change."):e.signInAnonymously(d)};return e.profile.isLoaded&&!e.profile.isEmpty?l.a.createElement(o.a,{to:"/chat"}):l.a.createElement("div",{className:"homepage"},l.a.createElement("h1",null,"Welcome To Chat App"),l.a.createElement("h3",null,"To join chat rooms please"),l.a.createElement("div",{className:"hpBtn"},l.a.createElement("button",{type:"button",class:"btn btn-primary mr-4"},l.a.createElement(s.c,{style:{color:"white"},to:"/signup"},"Sign Up")),l.a.createElement("button",{type:"button",class:"btn btn-primary ml-4"},l.a.createElement(s.c,{style:{color:"white"},to:"/login"},"Login")),l.a.createElement("div",{className:"anonymText"},"or join anonymously"),l.a.createElement("div",{class:"form-group"},l.a.createElement("form",{onSubmit:function(e){return g(e)}},l.a.createElement("input",{required:!0,onChange:function(e){return function(e){e.preventDefault(),f(e.target.value),console.log(d)}(e)},type:"text",class:"form-control",name:"",id:"","aria-describedby":"helpId",placeholder:"Username"}),l.a.createElement("button",(t={disabled:""===d,type:"submit",onClick:function(e){return g(e)}},Object(a.a)(t,"type","button"),Object(a.a)(t,"class","btn btn-primary"),t),"Join!")),b)))})),p=(n(389),n(390),function(e){var t=e.profile;return l.a.createElement("div",{className:"starredChannels"},l.a.createElement("div",{className:"starredTitle"},l.a.createElement("li",null,l.a.createElement("img",{width:"40px",src:"https://img.icons8.com/plasticine/100/000000/star--v1.png"}),"Starred")),t&&t.starredRooms.map((function(e){return l.a.createElement("div",null,l.a.createElement("li",null,e))})))}),b=(n(391),n(52)),E=n(152),g=n(39),v=n(151),N=n(99);var y=Object(m.b)(null,(function(e){return{createChannel:function(t,n){return e(function(e,t){return function(n,a,r){r.getFirebase;var l=r.getFirestore,c=a().firebase.auth.uid,i=a().firebase.profile.userName,s=l();return console.log(e,t,i),s.collection("channels").add({channelName:e,description:t,creatorUserName:i,createdAt:new Date,creatorId:c,members:[],messages:[]}).then((function(e){return s.collection("channels").doc(e.id).update({channelId:e.id})}))}}(t,n))}}}))((function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(""),s=Object(u.a)(i,2),o=s[0],m=s[1],d=Object(r.useState)(""),f=Object(u.a)(d,2),h=f[0],p=f[1],N=function(){return c(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{width:"40px",onClick:function(){c(!0)},className:"addChannel",src:"https://image.flaticon.com/icons/svg/399/399271.svg"}),l.a.createElement(b.a,{show:a,onHide:function(){return N()}},l.a.createElement(b.a.Header,{closeButton:!0},l.a.createElement(b.a.Title,null,"Add a Channel")),l.a.createElement(b.a.Body,null,l.a.createElement(g.a,{className:"mb-3"},l.a.createElement(g.a.Prepend,null,l.a.createElement(g.a.Text,{id:"basic-addon1"},"Name of Channel")),l.a.createElement(v.a,{onChange:function(e){return function(e){m(e.target.value)}(e)},placeholder:"React","aria-label":"Username","aria-describedby":"basic-addon1"})),l.a.createElement(g.a,{className:"mb-3"},l.a.createElement(g.a.Prepend,null,l.a.createElement(g.a.Text,{id:"basic-addon1"},"About the Channel")),l.a.createElement(v.a,{onChange:function(e){return function(e){p(e.target.value)}(e)},placeholder:"About the UI Library React","aria-label":"Username","aria-describedby":"basic-addon1"}))),l.a.createElement(b.a.Footer,null,l.a.createElement(E.a,{variant:"secondary",onClick:function(){return N()}},"Close"),l.a.createElement(E.a,{onClick:function(){return c(!1),void e.createChannel(o,h)},variant:"primary"},"Add"))))})),O=function(e){var t=e.channels;return console.log("cc",e),l.a.createElement("div",{className:"channels"},l.a.createElement("div",{className:"channelsTitle"},l.a.createElement("li",null,"All Channels"),l.a.createElement(y,null)),t&&t.map((function(e){return l.a.createElement("li",null,l.a.createElement(s.b,{style:{color:"white"},to:"/chat/"+e.channelName},"#",e.channelName))})))},A=Object(m.b)(null,(function(e){return{signOut:function(){return e((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.profile,n=e.channels,a=t.joinedRooms;return t.isLoaded?l.a.createElement("div",{className:"leftBar"},l.a.createElement("ul",null,l.a.createElement("li",{className:"ulTitle"},l.a.createElement("h4",null,"</>"," Kaan's DevChat")),l.a.createElement("li",{className:"ulUserName"},t&&t.userName),l.a.createElement("li",null,l.a.createElement(p,{profile:t})),l.a.createElement("li",null,l.a.createElement(O,{channels:n})),l.a.createElement("li",{className:"mt-3",style:{color:"black"}},"Joined Rooms:"),a&&a.map((function(e){return l.a.createElement("div",null,l.a.createElement(s.b,{style:{color:"white"},to:"/chat/"+e},l.a.createElement("li",null,e)))})),l.a.createElement("li",{className:"logOutBtn"},l.a.createElement("button",{onClick:function(){return e.signOut()},type:"button",class:"btn btn-primary mt-4"},"LogOut")))):l.a.createElement("h1",null,"Loading...")}));n(395),n(396),n(397);var S=Object(m.b)(null,(function(e){return{channelStar:function(t){return e(function(e){return function(t,n,a){a.getFirebase;var r=(0,a.getFirestore)(),l=n().firebase.auth.uid,c="";n().firestore.ordered.users.map((function(e){return e.id===n().firebase.auth.uid?c=e.starredRooms:null}));var i=c.concat(e);r.collection("users").doc(l).update({starredRooms:i})}}(t))},channelUnstar:function(t){return e(function(e){return function(t,n,a){a.getFirebase;var r=(0,a.getFirestore)(),l=n().firebase.auth.uid,c="";n().firestore.ordered.users.map((function(e){return e.id===n().firebase.auth.uid?c=e.starredRooms:null}));var i=c.indexOf(e),s=Object(N.a)(c);s.splice(i),r.collection("users").doc(l).update({starredRooms:s})}}(t))}}}))((function(e){var t=e.profile,a=e.channels,r=Object(o.g)().pathname.split("/").pop(),c=a&&a.find((function(e){return e.channelName===r}));return l.a.createElement("div",{className:"chatTitle"},l.a.createElement("div",{className:"chatSearchTitle"},l.a.createElement("span",{className:"channelName"},"#",r,t&&t.starredRooms.includes(r)?l.a.createElement("img",{width:"30px",onClick:function(){return e.channelUnstar(r)},src:"https://img.icons8.com/emoji/48/000000/star-emoji.png"}):l.a.createElement("img",{width:"30px",onClick:function(){return e.channelStar(r)},src:n(398)}))),l.a.createElement("div",{style:{color:"white"}},c&&c.members.length," user"))})),j=(n(399),n(65)),C=n.n(j),R=function(e){var t=Object(o.g)().pathname.split("/").pop(),n=e.channels,a=e.profile,r=n&&n.find((function(e){return e.channelName===t?e:null}));return console.log(r,"chan"),l.a.createElement("div",{className:"chatMessages"},r&&r.messages.map((function(e,t){return e.sender===a.userName?l.a.createElement("div",{class:"d-flex justify-content-start mb-4"},l.a.createElement("div",{class:"img_cont_msg"}),l.a.createElement("div",{style:{color:"white"}},e.sender),l.a.createElement("div",{class:"msg_cotainer"},e.message,l.a.createElement("img",{width:"300px",src:e.imageUrl,alt:""}),l.a.createElement("span",{style:{color:"white"},class:"msg_time"},C()(e.createdAt.toDate()).calendar()))):l.a.createElement("div",{class:"d-flex justify-content-end mb-4"},l.a.createElement("div",{class:"msg_cotainer_send"},e.message,l.a.createElement("img",{src:e.imageUrl,alt:""}),l.a.createElement("span",{style:{color:"white"},class:"msg_time_send"}," ",C()(e.createdAt.toDate()).calendar())),l.a.createElement("div",{style:{color:"white"}},e.sender),l.a.createElement("div",{class:"img_cont_msg"},l.a.createElement("img",{width:"300px",src:e.imageUrl})))})))},w=(n(400),Object(m.b)(null,(function(e){return{sendMessage:function(t,n,a){return e(function(e,t,n){return function(a,r,l){var c=l.getFirebase,i=l.getFirestore,s=r().firebase.auth.uid,o=r().firebase.profile.userName,u="",m=c(),d=i(),f="";if(r().firestore.ordered.channels.map((function(e){return e.channelName===n?u=e.channelId:null})),r().firestore.ordered.channels.map((function(e){return e.channelName===n?f=e.messages:null})),null===e){var h=f.concat([{sender:o,createdAt:new Date,message:t}]);return console.log(h,"a"),d.collection("channels").doc(u).update({messages:h}).then((function(e){d.collection("users").doc(s).update({messages:h})})).then((function(){a({type:"CREATE_PUBLIC_TASK",text:t})})).catch((function(e){a({type:"CREATE_PUBLIC_TASK_ERROR",text:t})}))}return m.uploadFile("images",e).then((function(e){return e.uploadTaskSnapshot.ref.getDownloadURL()})).then((function(e){return d.collection("channels").doc(u).update({messages:f.concat([{sender:o,createdAt:new Date,message:t,imageUrl:e}])}).then((function(){a({type:"CREATE_PUBLIC_TASK",text:t})})).catch((function(e){a({type:"CREATE_PUBLIC_TASK_ERROR",text:t})}))}))}}(t,n,a))}}}))((function(e){var t=e.profile,n=e.channels,a=e.auth,c=Object(o.g)().pathname.split("/").pop(),i=[];n.map((function(e){return e.channelName===c?i=e.members:null}));var s=i.includes(t.userName),m="",d=Object(r.useState)(""),f=Object(u.a)(d,2),h=f[0],p=f[1],b=Object(r.useState)(null),E=Object(u.a)(b,2),g=E[0],v=E[1],N=function(t){return t.preventDefault(),null===g?e.sendMessage(null,h,c):e.sendMessage(g,h,c)};return l.a.createElement("div",null,l.a.createElement("span",null," ",a.uid===t.userName?null:m," "),l.a.createElement("div",{class:"form-group"},l.a.createElement("form",{onSubmit:function(e){return N(e)}},l.a.createElement("input",{style:{display:"inline"},onChange:function(e){return function(e){m=l.a.createElement("p",null,t.userName," is typing..."),p(e.target.value)}(e)},disabled:!s,type:"text",className:"form-control messageInp",name:"",id:"","aria-describedby":"helpId",placeholder:"Write your message"}),l.a.createElement("span",null,l.a.createElement("button",{onClick:function(e){return N(e)},disabled:!s,style:{display:"inline"},type:"button",class:"btn btn-primary"},"Send")),l.a.createElement("input",{multiple:!1,onChange:function(e){var t=e.target.files[0];v(t)},disabled:!s,type:"file",name:"",id:""}))))}))),U=function(e){var t=e.profile,n=e.channels,a=e.auth;return l.a.createElement("div",{className:"centerItems"},l.a.createElement(S,{channels:n,profile:t}),l.a.createElement(R,{profile:t,channels:n}),l.a.createElement(w,{auth:a,profile:t,channels:n}))},T=(n(401),Object(m.b)(null,(function(e){return{joinChannel:function(t){return e(function(e){return function(t,n,a){a.getFirebase;var r=(0,a.getFirestore)(),l=n().firebase.profile.userName,c=n().firebase.profile.uid,i="",s="",o=n().firebase.profile.joinedRooms.concat(e);n().firestore.ordered.channels.map((function(t){return t.channelName===e?s=t.members:null})),n().firestore.ordered.channels.map((function(t){return t.channelName===e?s=t.members:null})),n().firestore.ordered.channels.map((function(t){return t.channelName===e?i=t.channelId:null}));var u=s.concat(l);r.collection("channels").doc(i).update({members:u}).then((function(){return r.collection("users").doc(c).update({joinedRooms:o})}))}}(t))},leaveChannel:function(t){return e(function(e){return function(t,n,a){a.getFirebase;var r=(0,a.getFirestore)(),l=n().firebase.profile.userName,c="",i="",s=n().firebase.profile.joinedRooms,o=n().firebase.profile.uid;n().firestore.ordered.channels.map((function(t){return t.channelName===e?i=t.members:null})),n().firestore.ordered.channels.map((function(t){return t.channelName===e?c=t.channelId:null}));var u=i.indexOf(l),m=Object(N.a)(i);m.splice(u);var d=s.indexOf(e),f=Object(N.a)(s);f.splice(d),r.collection("channels").doc(c).update({members:m}).then((function(){r.collection("users").doc(o).update({joinedRooms:f})}))}}(t))}}}))((function(e){var t=e.profile,n=e.channels,a=Object(o.g)().pathname.split("/").pop(),r=n&&n.find((function(e){return e.channelName===a}));return l.a.createElement("div",{className:"rightBar"},l.a.createElement("div",{className:"rightBorder"},l.a.createElement("ul",null,l.a.createElement("li",{className:"rightTitle"},"About #",a," "),l.a.createElement("li",{className:"detailsTitle"},l.a.createElement("img",{width:"50px",src:"https://img.icons8.com/carbon-copy/100/000000/info.png"}),"Channel Details",l.a.createElement("span",{className:"joinRoomBtn"},r.members&&r.members.includes(t.userName)?l.a.createElement("button",{onClick:function(){return e.leaveChannel(r.channelName)},type:"button",class:"btn btn-danger"},"Leave Room"):l.a.createElement("button",{onClick:function(){return e.joinChannel(r.channelName)},type:"button",class:"btn btn-primary"},"Join Room"))),l.a.createElement("li",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Topic:")," ",r.description),l.a.createElement("li",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Created By: ")," ",r.creatorUserName),l.a.createElement("li",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Created At: ")," ",C()(r.createdAt.toDate()).calendar()),l.a.createElement("li",null,l.a.createElement("span",{style:{fontWeight:"bold"}},"Members:")," ",r.members.map((function(e){return l.a.createElement("li",null,"-",e)}))," "))))}))),F=Object(d.d)(Object(m.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,users:e.firestore.ordered.users,channels:e.firestore.ordered.channels}}),null),Object(f.firestoreConnect)((function(e){return[{collection:"users"},{collection:"channels",orderBy:["channelName"]}]})))((function(e){var t=Object(o.g)(),n=e.channels,a=e.profile,r=e.auth;return e.profile&&e.profile.isEmpty?l.a.createElement(o.a,{to:"/"}):"/chat"===t.pathname?l.a.createElement("div",{className:"welcomeMessageChat"},l.a.createElement(A,{channels:n,profile:a}),l.a.createElement("h1",{className:"ml-4"},"Please join room from left bar")):l.a.createElement("div",{className:"chatPage"},l.a.createElement(A,{channels:n,profile:a}),l.a.createElement(U,{auth:r,channels:n,profile:a}),l.a.createElement(T,{channels:n,profile:a}))})),I=n(94),L=n(95),k=n(97),q=n(96),x=function(e){Object(k.a)(n,e);var t=Object(q.a)(n);function n(){var e;Object(I.a)(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(a.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(L.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.authError;return t.auth.uid?l.a.createElement(o.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"SignIn"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{required:!0,type:"email",id:"email",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{required:!0,type:"password",id:"password",onChange:function(t){return e.handleChange(t)}})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Login")," ",l.a.createElement("div",{className:"red-text center"},n?l.a.createElement("p",null,n):null))))}}]),n}(r.Component),P=Object(m.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((n=t,function(e,t,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(n.email,n.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var n}}}))(x),B=function(e){Object(k.a)(n,e);var t=Object(q.a)(n);function n(){var e;Object(I.a)(this,n);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={firstName:"",lastName:"",email:"",password:""},e.handleChange=function(t){e.setState(Object(a.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(L.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.auth,a=t.authError;return n.uid?l.a.createElement(o.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)},className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"lastName"},"Last Name"),l.a.createElement("input",{required:!0,onChange:function(t){return e.handleChange(t)},type:"text",id:"lastName"})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"firstName"},"First Name"),l.a.createElement("input",{required:!0,onChange:function(t){return e.handleChange(t)},type:"text",id:"firstName"})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{required:!0,onChange:function(t){return e.handleChange(t)},type:"email",id:"email"})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{required:!0,onChange:function(t){return e.handleChange(t)},type:"password",id:"password"})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Sign Up")," ",l.a.createElement("div",{className:"red-text center"},a?l.a.createElement("p",null,a):null))))}}]),n}(r.Component),W=Object(m.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,n,a){var r=a.getFirebase,l=a.getFirestore,c=r(),i=l();c.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({uid:t.user.uid,userName:e.email,userType:"anonyMous",starredRooms:[],joinedRooms:[],firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(B);var D=function(){return l.a.createElement(s.a,null,l.a.createElement(o.d,null,l.a.createElement(o.b,{exact:!0,path:"/chat/:id",component:F}),l.a.createElement(o.b,{exact:!0,path:"/chat",component:F}),l.a.createElement(o.b,{exact:!0,path:"/login",component:P}),l.a.createElement(o.b,{exact:!0,path:"/signup",component:W}),l.a.createElement(o.b,{path:"/",component:h})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(51),z={authError:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(J.a)({},e,{authError:"Login Failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(J.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(J.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup success"),Object(J.a)({},e,{authError:t.err.message});case"SAME_USERNAME":return Object(J.a)({},e,{authError:"This username is used please choose different."});default:return e}},K=n(50),V=Object(d.c)({auth:G,firestore:K.firestoreReducer,firebase:f.firebaseReducer}),M=n(228),H=n(98),_=n.n(H),X=(n(433),n(436),n(439),{apiKey:"AIzaSyBO704fjAubsf5hhexNNjlstJAbY1OvwKs",authDomain:"chat-app-6ae0c.firebaseapp.com",databaseURL:"https://chat-app-6ae0c.firebaseio.com",projectId:"chat-app-6ae0c",storageBucket:"chat-app-6ae0c.appspot.com",messagingSenderId:"663141972904",appId:"1:663141972904:web:57f16b631a8928e2e7fb9d",measurementId:"G-T8MD4CVLCY"});_.a.initializeApp(X),_.a.firestore();var Y=_.a,Q=Object(d.e)(V,Object(d.d)(Object(d.a)(M.a.withExtraArgument({getFirebase:f.getFirebase,getFirestore:K.getFirestore})),Object(K.reduxFirestore)(Y,X))),Z=Object(a.a)({firebase:Y,config:X,dispatch:Q.dispatch,createFirestoreInstance:K.createFirestoreInstance},"config",{userProfile:"users",useFirestoreForProfile:!0,enableRedirectHandling:!1,resetBeforeLogin:!1});i.a.render(l.a.createElement(m.a,{store:Q},l.a.createElement(f.ReactReduxFirebaseProvider,Z,l.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[229,1,2]]]);
//# sourceMappingURL=main.65d9e588.chunk.js.map